<Window x:Class="SpaceGroup.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:SpaceGroup"
        mc:Ignorable="d"
        Title="MainWindow"
		Loaded="Window_Loaded"
		>

	<Grid>
		<Grid.ColumnDefinitions>
			<ColumnDefinition Width="Auto"/>
			<ColumnDefinition Width="Auto"/>
			<ColumnDefinition Width="*"/>
		</Grid.ColumnDefinitions>

		<Grid.RowDefinitions>
			<RowDefinition Height="Auto"/>
			<RowDefinition Height="*"/>
		</Grid.RowDefinitions>

		<Menu DockPanel.Dock="Top">
			<MenuItem Header="_File">
				<MenuItem Header="_New" />
				<MenuItem Header="_Open" Click="openBtnClick" />
                <MenuItem Header="_Save" Click="saveTableButton_Click"/>
				<MenuItem Header="_Настройки группы" Click="newGroup_Click"/>
				<Separator />
				<MenuItem Header="_Exit" />
			</MenuItem>
		</Menu>

		<Viewport3D Grid.Column ="2" Grid.Row ="1"  Name ="MainViewport"/>

		<Canvas x:Name="canvasOn3D"
                Grid.Column="2"
				Grid.Row ="1"
                Background="Transparent" 
                MouseDown="OnViewportMouseDown"  
                MouseMove="OnViewportMouseMove" Margin="0,0,0,0">
		</Canvas>

		<Grid x:Name="scrollGrid" Grid.Column ="0" Grid.Row="1">
			<ScrollViewer Name="Scroll" Height="Auto">
				<Grid>
					<Grid.RowDefinitions>
						<RowDefinition Height="Auto"/>
						<RowDefinition Height="Auto"/>
						<RowDefinition Height="Auto"/>
					</Grid.RowDefinitions>

					<GroupBox Grid.Row="1" Header="Таблица добавленных эл-ов" Width="176" Padding="0,10" 
                          Foreground="DarkBlue"
                          Height="195" Grid.ColumnSpan="2" Margin="0,0,1,0">
						<Canvas HorizontalAlignment="Left" Height="162" Margin="0,0,-2,-10" VerticalAlignment="Top" Width="166">
							<DataGrid x:Name="DataGridAtoms" Height="125" Canvas.Left="10" Canvas.Top="10" Width="146" CanUserAddRows="True" CanUserDeleteRows="True" AlternationCount="1"
							  ItemsSource="{Binding Path=., Mode=OneWay, NotifyOnSourceUpdated=True, UpdateSourceTrigger=PropertyChanged}"
							  AutoGenerateColumns="False">
								<DataGrid.Columns>
									<DataGridTextColumn IsReadOnly="False" Header="Атом" Binding="{Binding Element}"></DataGridTextColumn>
									<DataGridTextColumn IsReadOnly="False" Header="x" Binding="{Binding X}"></DataGridTextColumn>
									<DataGridTextColumn IsReadOnly="False" Header="y" Binding="{Binding Y}"></DataGridTextColumn>
									<DataGridTextColumn IsReadOnly="False" Header="z" Binding="{Binding Z}"></DataGridTextColumn>
									<DataGridTextColumn IsReadOnly="False" Header="Цвет" ></DataGridTextColumn>
								</DataGrid.Columns>
							</DataGrid>
							<Button Name="deleteButton" Content="Удалить" Canvas.Left="81" Canvas.Top="140" Width="75" Click="deleteButtonClick"/>
							<Button Name="saveTableButton" Content="Соранить" Canvas.Top="140" Width="75" Click="saveTableButton_Click"/>
						</Canvas>
					</GroupBox>

					<GroupBox  Grid.Row="0" Header="Добавить атом" Height="200" Width="168" HorizontalAlignment="Left" Margin="8,5,0,0" VerticalAlignment="Top" Foreground="DarkBlue" Grid.ColumnSpan="2">
						<Canvas Margin="0,10,0,-2">
							<Label Height="24" Name="label1" Width="57">Атом</Label>
							<TextBox Height="22" Name="atomName" Width="91" Canvas.Left="66" Canvas.Top="0" />

							<Button Canvas.Left="-1" Canvas.Top="136" Height="29" Name="addButton" Width="157" Click="addAtomButton_Click" RenderTransformOrigin="0.497,0.483">Добавить</Button>

							<Label Content="x" Canvas.Top="24" Width="57"/>
							<TextBox Height="23" Name="xCoord" Canvas.Left="66" Canvas.Top="27" Width="91"/>
							<TextBox Height="23" Name="yCoord" Canvas.Left="66" Canvas.Top="55" Width="91"/>
							<TextBox Height="23" Name="zCoord"  Canvas.Left="66" Canvas.Top="83" Width="91"/>
							<Label Content="y" Canvas.Top="55" Width="57" Height="33"/>
							<Label Content="z" Canvas.Top="83" Width="57" Height="23"/>
							<Button Content="Цвет" Canvas.Left="81" Canvas.Top="111" Width="75" Click="pickColor"/>
						</Canvas>
					</GroupBox>
					<TextBlock Grid.Row="2"><Run Text="Масштаб: "/><InlineUIContainer>
						</InlineUIContainer></TextBlock>
					<Button Grid.Row="3" Content="Button" Width="75" Click="Button_Click"/>
					<ScrollBar Name= "atomResizer" Grid.Row="2" ValueChanged="ScrollBar_ValueChanged"/>
				</Grid>
			</ScrollViewer>
		</Grid>
	</Grid>
</Window>
